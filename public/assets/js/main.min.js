"use strict";$(document).ready(function(){$(".city").select2({dropdownPosition:"below",ajax:{method:"GET",url:"https://api.api-ninjas.com/v1/city",headers:{"X-Api-Key":"R1qk0hJJJa8LFVYxEwZ91A==6FPuV55T6aV62ibf"},contentType:"application/json",data:function(t){return{country:"US",limit:30,name:t.term}},processResults:function(t){const e=$.map(t,function(t,e){return t.id=t.name,t});return console.log(e),{results:e}},cache:!0},placeholder:"Choose your city *",minimumInputLength:2,templateResult:function(t){if(t.loading)return t.text;return t.name},templateSelection:function(t){return t.name||t.text}}),$("input[name=phone]").inputmask({mask:"999-999-9999"}),$("#form").submit(function(t){t.preventDefault();const e=$(this).serialize(),o=$(".form");$.ajax({type:"POST",url:"submit.php",data:e,dataType:"json",beforeSend:function(){o.css({opacity:.5,"pointer-events":"none"})},success:function(t){var e;if($(".error-field").remove(),$(".success").remove(),null!==t.errors&&void 0!==t.errors&&(e=t.errors,$.each(e,function(t,e){const o=$("<span>");o.text(e).addClass(`error-field ${t}`),"privacyPolicy"===t?$(".form__privacy-policy-wrapper").after(o):$(`label[for=${t}]`).append(o)})),!0===t.success){o[0].reset();const e=$("<span>");e.text(t.message).addClass("success"),o.prepend(e)}if(!1===t.success){const e=$("<span>");e.text(t.message).addClass("error"),o.prepend(e)}o.css({opacity:1,"pointer-events":""})}})}),$("input[type=password]").on("change",function(){$(this).val()?$(this).parent().addClass("not-empty"):$(this).parent().removeClass("not-empty")}),$(".password-show").on("click",function(){$(this).parent().addClass("visible").find("input[type=password]").attr("type","text")}),$(".password-hide").on("click",function(){$(this).parent().removeClass("visible").find("input[type=text]").attr("type","password")})}),function(t){var e=t.fn.select2.amd.require("select2/defaults");t.extend(e.defaults,{dropdownPosition:"auto"});var o=t.fn.select2.amd.require("select2/dropdown/attachBody");o.prototype._positionDropdown;o.prototype._positionDropdown=function(){var e=t(window),o=this.$dropdown.hasClass("select2-dropdown--above"),s=this.$dropdown.hasClass("select2-dropdown--below"),n=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var i=this.$dropdown.outerHeight(!1),p=e.scrollTop(),c=e.scrollTop()+e.height(),d=p<r.top-i,l=c>r.bottom+i,u={left:r.left,top:a.bottom},f=this.$dropdownParent;"static"===f.css("position")&&(f=f.offsetParent());var h=f.offset();u.top-=h.top,u.left-=h.left;var m=this.options.get("dropdownPosition");"above"===m||"below"===m?n=m:(o||s||(n="below"),l||!d||o?!d&&l&&o&&(n="below"):n="above"),("above"==n||o&&"below"!==n)&&(u.top=a.top-h.top-i),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(u)}}(window.jQuery);