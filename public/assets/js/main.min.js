"use strict";$(document).ready(function(){$(".city").select2({dropdownPosition:"below"}),$("input[name=phone]").inputmask({mask:"999-999-9999"}),$("#form").submit(function(e){e.preventDefault();const o=$(this).serialize(),t=$(".form");$.ajax({type:"POST",url:"submit.php",data:o,dataType:"json",beforeSend:function(){t.css({opacity:.5,"pointer-events":"none"})},success:function(e){var o;if($(".error-field").remove(),$(".success").remove(),null!==e.errors&&void 0!==e.errors&&(o=e.errors,$.each(o,function(e,o){const t=$("<span>");t.text(o).addClass(`error-field ${e}`),"privacyPolicy"===e?$(".form__privacy-policy-wrapper").after(t):$(`label[for=${e}]`).append(t)})),!0===e.success){t[0].reset();const o=$("<span>");o.text(e.message).addClass("success"),t.prepend(o)}if(!1===e.success){const o=$("<span>");o.text(e.message).addClass("error"),t.prepend(o)}t.css({opacity:1,"pointer-events":""})}})}),$("input[type=password]").on("change",function(){$(this).val()?$(this).parent().addClass("not-empty"):$(this).parent().removeClass("not-empty")}),$(".password-show").on("click",function(){$(this).parent().addClass("visible").find("input[type=password]").attr("type","text")}),$(".password-hide").on("click",function(){$(this).parent().removeClass("visible").find("input[type=text]").attr("type","password")})}),function(e){var o=e.fn.select2.amd.require("select2/defaults");e.extend(o.defaults,{dropdownPosition:"auto"});var t=e.fn.select2.amd.require("select2/dropdown/attachBody");t.prototype._positionDropdown;t.prototype._positionDropdown=function(){var o=e(window),t=this.$dropdown.hasClass("select2-dropdown--above"),s=this.$dropdown.hasClass("select2-dropdown--below"),n=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var i=this.$dropdown.outerHeight(!1),p=o.scrollTop(),d=o.scrollTop()+o.height(),c=p<r.top-i,l=d>r.bottom+i,u={left:r.left,top:a.bottom},f=this.$dropdownParent;"static"===f.css("position")&&(f=f.offsetParent());var w=f.offset();u.top-=w.top,u.left-=w.left;var h=this.options.get("dropdownPosition");"above"===h||"below"===h?n=h:(t||s||(n="below"),l||!c||t?!c&&l&&t&&(n="below"):n="above"),("above"==n||t&&"below"!==n)&&(u.top=a.top-w.top-i),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(u)}}(window.jQuery);